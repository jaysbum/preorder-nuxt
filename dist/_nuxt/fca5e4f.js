(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{640:function(t,e,r){"use strict";r.r(e);r(30),r(31),r(24),r(65),r(66),r(42),r(25);var o=r(27),c=r(32);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var n={data:function(){return{subscribe:0,agree:0,addressId:null,address:null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({setting:"sessionStorage/setting",cartTotal:"sessionStorage/cartTotal",discount:"sessionStorage/discount",realPrice:"sessionStorage/realPrice",price:"sessionStorage/price",total:"sessionStorage/total",vat:"sessionStorage/vat",totalNet:"sessionStorage/totalNet",cartMode:"sessionStorage/cartMode",cartInsurance:"sessionStorage/cartInsurance",insuranceRate:"sessionStorage/insuranceRate",exchangeRate:"sessionStorage/exchangeRate",markupRate:"sessionStorage/markupRate",loggedInUser:"loggedInUser",supplyTotal:"sessionStorage/supplyTotal",shippingTotal:"sessionStorage/shippingTotal",deliveryTotal:"sessionStorage/deliveryTotal",serviceTotal:"sessionStorage/serviceTotal"})),mounted:function(){console.log(this.$store.state.sessionStorage.selectAddressData[0])},methods:{setSubscribe:function(){this.$store.commit("sessionStorage/SET_STORE",{name:"subscribe",data:this.subscribe})},setAgree:function(){this.$store.commit("sessionStorage/SET_STORE",{name:"agree",data:this.agree})},saveOrder:function(){var t=this.$store.state.sessionStorage,e=this;if(console.log(this.$store.state.sessionStorage.selectAddress),0!=this.$store.state.sessionStorage.selectAddress)this.address=this.$store.state.sessionStorage.selectAddressData;else{var r=this.$store.state.sessionStorage.newAddress;this.address={name:r.firstname+" "+r.lastname,address:r.address+" "+r.village+" "+r.building+" "+r.alley+" "+r.road,subDistrict:r.subDistrict,district:r.district,province:r.province,zipcode:r.zipcode,email:r.email,mobile:r.mobile,user:this.loggedInUser._id},this.$axios.post("addresses",this.address).then((function(t){200==t.status&&console.log(t.data)}))}var o={user:this.loggedInUser,detail:this.$_.groupBy(t.items,"shop"),address:this.address,mode:t.mode,rate:this.exchangeRate,subtotal:{cny:this.cartTotal,thb:this.cartTotal*this.exchangeRate},supply:{subtotal_cny:this.supplyTotal,subtotal:this.supplyTotal*this.exchangeRate,markupDiscount_cny:this.discount("supply",this.supplyTotal),markupDiscount:this.discount("supply",this.supplyTotal)*this.exchangeRate,promotionDiscount_cny:this.realPrice("supply")-this.price("supply"),promotionDiscount:(this.realPrice("supply")-this.price("supply"))*this.exchangeRate,total_cny:this.price("supply"),total:this.price("supply")*this.exchangeRate},shipping:{subtotal:this.shippingTotal,markupDiscount:this.discount("shipping",this.shippingTotal),promotionDiscount:this.realPrice("shipping")-this.price("shipping"),total:this.price("shipping")},delivery:{subtotal:this.deliveryTotal,markupDiscount:this.discount("delivery",this.deliveryTotal),promotionDiscount:this.realPrice("delivery")-this.price("delivery"),total:this.price("delivery")},service:{subtotal:this.serviceTotal,markupDiscount:this.discount("service",this.serviceTotal),promotionDiscount:this.realPrice("service")-this.price("service"),total:this.price("service")},tax:t.taxData,insurance:t.insurance,total:this.total,vat:this.vat,total_net:this.totalNet};console.log(o),this.$axios.post("orders",o).then((function(t){200==t.status&&(e.$store.commit("sessionStorage/SET_STORE",{name:"orderId",data:t.data}),e.$router.push("/checkout/step3"),console.log(t.data._id))}))}}},d=r(17),component=Object(d.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row",staticStyle:{"margin-bottom":"30px"}},[r("form",{on:{submit:function(e){return e.preventDefault(),t.saveOrder(e)}}},[r("div",{staticClass:"container"},[t._m(0),t._v(" "),r("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-12",staticStyle:{"padding-left":"25px"}},[r("div",{staticClass:"row",staticStyle:{"border-color":"#BFBFBF","border-style":"solid","border-width":"thin",padding:"20px"}},[r("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[r("h4",{staticStyle:{color:"red"}},[t._v("*สงวนลิขสิทธิ์ในการยกเลิกคำสั่งซื้อของลูกค้า หากลูกค้าไม่ได้ชำระเงินเข้ามาและไม่ได้ทำรายการยืนยันการชำระเงินผ่านช่องทาง ภายใน 48 ชั่วโมง")]),t._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.subscribe,expression:"subscribe"}],attrs:{type:"checkbox",name:"subscribe"},domProps:{checked:Array.isArray(t.subscribe)?t._i(t.subscribe,null)>-1:t.subscribe},on:{change:[function(e){var r=t.subscribe,o=e.target,c=!!o.checked;if(Array.isArray(r)){var l=t._i(r,null);o.checked?l<0&&(t.subscribe=r.concat([null])):l>-1&&(t.subscribe=r.slice(0,l).concat(r.slice(l+1)))}else t.subscribe=c},t.setSubscribe]}}),r("span",{staticStyle:{"margin-left":"10px","padding-left":"5px","margin-right":"10px"}},[t._v("ยินดีรับข่าวสาร และโปรโมชั่นใหม่ๆก่อนใครทางอีเมล์")])]),t._v(" "),r("label",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.agree,expression:"agree"}],attrs:{type:"checkbox",name:"agree",required:""},domProps:{checked:Array.isArray(t.agree)?t._i(t.agree,null)>-1:t.agree},on:{change:[function(e){var r=t.agree,o=e.target,c=!!o.checked;if(Array.isArray(r)){var l=t._i(r,null);o.checked?l<0&&(t.agree=r.concat([null])):l>-1&&(t.agree=r.slice(0,l).concat(r.slice(l+1)))}else t.agree=c},t.setAgree]}}),r("span",{staticStyle:{"margin-left":"10px","padding-left":"5px","margin-right":"10px"}},[t._v("ฉันยอมรับว่าได้อ่าน การบริการ และ การตรวจสอบคุณภาพสินค้า และ การรับประกันสินค้า และ กล่องบรรจุภัณฑ์ ของ Uget แล้ว")])]),t._v(" "),r("img",{attrs:{src:"/assets/img/checkout/agreement.png",alt:""}})])]),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"row",staticStyle:{"border-color":"#BFBFBF","border-style":"solid","border-width":"thin",padding:"20px"}},[r("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[r("h5",{staticStyle:{color:"red"}},[t._v("ที่อยู่ในการจัดส่ง")]),t._v(" "),0==t.$store.state.sessionStorage.selectAddress?r("span",[t._v(t._s(t._f("fullNewAddress")(t.$store.state.sessionStorage.newAddress)))]):r("span",[t._v(t._s(t._f("fullAddress")(t.$store.state.sessionStorage.selectAddressData[0])))])])])]),t._v(" "),r("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-12",staticStyle:{"padding-left":"25px"}},[r("div",{staticClass:"row",staticStyle:{"border-color":"#BFBFBF","border-style":"solid","border-width":"thin",padding:"20px"}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[r("table",{staticClass:"table"},[t._m(1),t._v(" "),r("tbody",t._l(t.$store.state.sessionStorage.items,(function(e){return r("tr",[r("td",[r("img",{staticStyle:{width:"120px"},attrs:{src:e.image}})]),t._v(" "),r("td",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.title)),r("br"),t._v(" "),t._l(e.options,(function(option){return r("small",[r("span",[t._v(t._s(option.group)+" : "+t._s(option.label))]),r("br")])}))],2),t._v(" "),r("td",[t._v(t._s(e.quantity))]),t._v(" "),r("td",{staticStyle:{width:"120px"}},[t._v(t._s(t._f("price")(e.price*e.quantity,"baht",t.exchangeRate))),r("br"),r("small",[t._v(t._s(t._f("price")(e.price*e.quantity,"yuan")))])])])})),0),t._v(" "),r("tfoot",[r("tr",{staticStyle:{color:"#ff5723"}},[r("td",{attrs:{colspan:"3"}},[t._v("ราคาสินค้ารวม :")]),t._v(" "),r("td",[t._v(t._s(t._f("price")(t.cartTotal,"baht",t.exchangeRate))),r("br"),r("small",{staticClass:"text-muted"},[t._v(t._s(t._f("price")(t.cartTotal,"yuan")))])])])])])])]),t._v(" "),r("hr",{staticStyle:{"border-top":"2px solid #eee",width:"100%"}}),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[t._m(2),t._v(" "),r("table",{staticClass:"table"},[r("tr",[r("td",{attrs:{width:"50%"}},[t._v("ค่าจัดส่งร้านจีน - โกดัง Uget")]),t._v(" "),r("td",{staticClass:"text-right"},[r("span",{attrs:{id:"ship_rate"}},[t._v(t._s(t._f("price")(t.price("supply"),"baht",t.exchangeRate)))]),r("br"),t._v(" "),r("small",{staticClass:"text-muted"},[r("span",{attrs:{id:"ship_rate_price_cny"}},[t._v(t._s(t._f("price")(t.price("supply"),"yuan")))])])])]),t._v(" "),1==t.cartMode?r("tr",[r("td",{attrs:{width:"50%"}},[t._v("ค่าขนส่งระหว่างประเทศ")]),t._v(" "),r("td",{staticClass:"text-right"},[r("span",{attrs:{id:"ship_rate"}},[t._v(t._s(t._f("price")(t.price("shipping"),"baht")))])])]):t._e(),t._v(" "),1==t.cartMode?r("tr",[r("td",{attrs:{width:"50%"}},[t._v("ค่าขนส่งในประเทศ")]),t._v(" "),r("td",{staticClass:"text-right"},[r("span",{attrs:{id:"ship_rate"}},[t._v(t._s(t._f("price")(t.price("delivery"),"baht")))]),r("br")])]):t._e()])])]),t._v(" "),r("hr",{staticStyle:{"border-top":"2px solid #eee",width:"100%"}}),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[t._m(3),t._v(" "),r("table",{staticClass:"table"},[1==t.cartMode?r("tr",[r("td",{attrs:{width:"50%"}},[t._v("ค่าบริการ Uget")]),t._v(" "),r("td",{staticClass:"text-right"},[r("span",{attrs:{id:"ship_rate"}},[t._v(t._s(t._f("price")(t.price("service"),"baht")))]),r("br")])]):t._e(),t._v(" "),r("tr",[r("td",{attrs:{width:"50%"}},[t._v("ประกันสินค้า")]),t._v(" "),r("td",{staticClass:"text-right"},[r("span",{attrs:{id:"ship_rate"}},[t._v(t._s(t._f("price")(t.cartInsurance,"baht",t.exchangeRate)))])])])])])]),t._v(" "),r("hr",{staticStyle:{"border-top":"2px solid #eee",width:"100%"}}),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[r("table",{staticClass:"table"},[1==t.cartMode?r("tr",[r("td",{attrs:{width:"50%"}},[t._v("ภาษีมูลค่าเพิ่ม")]),t._v(" "),r("td",{staticClass:"text-right"},[r("span",{attrs:{id:"ship_rate"}},[t._v(t._s(t._f("price")(t.vat,"baht")))])])]):t._e(),t._v(" "),r("tr",{staticStyle:{color:"#ff5723","font-size":"large"}},[r("td",{attrs:{width:"50%"}},[t._v("รวมราคาสุทธิ")]),t._v(" "),r("td",{staticClass:"text-right"},[r("span",{attrs:{id:"ship_rate"}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("price")(t.totalNet,"baht"))+"\n\t\t\t\t\t\t\t\t\t\t")])])]),t._v(" "),r("tr",[r("td",{staticStyle:{"padding-top":"30px"},attrs:{width:"50%"}},[r("nuxt-link",{attrs:{to:{path:"/checkout/step1"}}},[t._v("<<<ย้อนกลับ")])],1),t._v(" "),r("td",{staticClass:"text-right",staticStyle:{"padding-top":"30px"}},[r("button",{staticStyle:{height:"40px",border:"none",background:"#ff5723",color:"#fff",width:"80%"},attrs:{type:"submit",name:"button",disabled:!t.agree}},[t._v("ดำเนินการต่อ")])])])])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center",staticStyle:{padding:"40px"}},[e("img",{staticStyle:{height:"78px"},attrs:{src:"/assets/img/checkout/step3.png"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",{staticStyle:{color:"#ff5723"}},[e("th",[this._v("สินค้า")]),this._v(" "),e("th",[this._v("รายละเอียด")]),this._v(" "),e("th",[this._v("จำนวน")]),this._v(" "),e("th",[this._v("ราคา")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{color:"#ff5723"}},[e("b",[this._v("รูปแบบการส่งสินค้า")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{color:"#ff5723"}},[e("b",[this._v("ค่าบริการและรับประกันสินค้า")])])}],!1,null,null,null);e.default=component.exports}}]);